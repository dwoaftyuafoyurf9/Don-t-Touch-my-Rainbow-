<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rainbow Madness</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    overflow: hidden;
    cursor: pointer;
  }

  body {
    transition: background-color 0.2s linear;
  }
</style>
</head>
<body>

<script>
const colors = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet'];
let colorIndex = 0;
let clickCount = 0;
let extraWindowsCreated = false;

// Rainbow background flashing
setInterval(() => {
  document.body.style.backgroundColor = colors[colorIndex];
  colorIndex = (colorIndex + 1) % colors.length;
}, 200);

// Function to request fullscreen
function goFullscreen() {
  const el = document.documentElement;
  if (el.requestFullscreen) el.requestFullscreen();
  else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
  else if (el.msRequestFullscreen) el.msRequestFullscreen();
}

// Click handling
document.body.addEventListener('click', () => {
  clickCount++;
  if (clickCount <= 10) {
    alert("DONT DISTURB MY RAINBOW");
  } else if (clickCount === 11) {
    goFullscreen(); // enter fullscreen when popups start
    createPopupWindows(12);
  } else if (clickCount === 12 && !extraWindowsCreated) {
    createPopupWindows(25);
    extraWindowsCreated = true;
  }
});

// Desktop popup function
function createPopupWindows(count) {
  for (let i = 0; i < count; i++) {
    let width = 200, height = 150;
    let x = Math.random() * (screen.width - width);
    let y = Math.random() * (screen.height - height);
    let dx = (Math.random() * 4 + 2) * (Math.random() > 0.5 ? 1 : -1);
    let dy = (Math.random() * 4 + 2) * (Math.random() > 0.5 ? 1 : -1);

    let popup = window.open('', '', `width=${width},height=${height},left=${x},top=${y}`);
    if (!popup) continue;

    popup.document.write(`
      <html><head>
      <title>ðŸŒˆ</title>
      <style>
        body { margin:0; overflow:hidden; font-size:2em; display:flex; align-items:center; justify-content:center; transition: background-color 0.2s linear; }
      </style>
      </head>
      <body>ðŸŒˆ</body>
      </html>
    `);

    let colorIndexPopup = Math.floor(Math.random() * colors.length);
    // Rainbow flashing
    setInterval(() => {
      if (!popup || popup.closed) return;
      popup.document.body.style.backgroundColor = colors[colorIndexPopup];
      colorIndexPopup = (colorIndexPopup + 1) % colors.length;
    }, 200);

    // Bounce animation
    setInterval(() => {
      if (!popup || popup.closed) return;
      x += dx;
      y += dy;
      if (x <= 0 || x + width >= screen.width) dx = -dx;
      if (y <= 0 || y + height >= screen.height) dy = -dy;
      popup.moveTo(x, y);
    }, 50);
  }
}
</script>

</body>
</html>
